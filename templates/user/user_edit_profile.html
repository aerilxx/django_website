{% extends 'panel_base.html' %} 

{% load static %}

{% block title %}
<h1>
	Edit Profile
</h1>
{% endblock %}

{% block content %}

{% if user.is_authenticated %}

<div class="container">
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

<div class="container">
    
    <hr>
    <div class="row">
      <!-- left column -->
      <div class="col-md-3">
        <div class="text-center">
            {% if user.profile.avatar %}
            <img alt="" style="width:600px;" title="" class="img-circle img-thumbnail isTooltip" src="{{ user.profile.avatar.url }}"> 
            {% else %}
            <img alt="" style="width:600px;" title="" class="img-circle img-thumbnail isTooltip" src="{% static 'img/avater.jpeg' %}"> 
            {% endif %}

          <!-- <input type="file" class="form-control"> -->
          {{ profile_form.avatar }}
        </div>
      </div>
      
      <!-- edit form column -->
      <div class="col-md-9 personal-info">
        <!-- <div class="alert alert-info alert-dismissable">
        </div> -->

        {% if messages %}
         <div class="alert alert-info alert-dismissable">
            {% for msg in messages %}
            <p> ERROR MESSAGE: </p>
            <div class="alert alert-danger">
                <strong>{{ msg }}</strong>
            </div>
            {% endfor %}
         </div>
         {% endif %}
        
        <form class="form-horizontal" role="form">
          <div class="form-group">
            <label class="col-lg-3 control-label">First name:</label>
            <div class="col-lg-8">
              <input class="form-control" type="text" value="{{ user.first_name }}">
              <!-- {{ form.first_name }} -->
            </div>
          </div>
          <div class="form-group">
            <label class="col-lg-3 control-label">Last name:</label>
            <div class="col-lg-8">
              {{ form.last_name }}
            </div>
          </div>

          <div class="form-group">
            <label class="col-md-3 control-label">Username:</label>
            <div class="col-md-8">
              <input class="form-control" type="text" value="{{ user.username }}">

              <!-- {{ form.username }} -->
            </div>
          </div>

          <div class="form-group">
            <label class="col-lg-3 control-label">Address:</label>

            <div class="col-lg-8">
              <input class="form-control" type="text" value="{{ user.profile.address }}">
              <!-- {{ profile_form.address }} -->
            </div>
          </div>

          <div class="form-group">
            <label class="col-lg-3 control-label">Phone:</label>
            <div class="col-lg-8">
              <input class="form-control" type="text" value="{{ user.profile.phone }}">
              <!-- {{ profile_form.phone }} -->
              <p>In the format of +1 0000000000.</p>
            </div>
          </div>
          
          <div class="form-group">
            <label class="col-lg-3 control-label">Birthday:</label>
            <div class="col-lg-8">
              {{ profile_form.birth_date }}
              <p>In the format of YYYY-MM-DD.</p>
            </div>
            
          </div>

           <div class="form-group">
            <label class="col-lg-3 control-label">Gender:</label>
            <div class="col-lg-8">
              <div class="ui-select">
                <select value="{{ user.profile.gender }}">
                  <option>male</option>
                  <option>female</option>
                  <option>nonbinary</option>
                </select>
                  <!-- {{ profile_form.gender }} -->
              </div>
            </div>
          </div>

          <div class="form-group">
            <label class="col-lg-3 control-label">Concerns:</label>
            <div class="col-lg-8">
              <div class="ui-select">
                  {{ profile_form.concerns }}
              </div>
            </div>
          </div>

          <div class="form-group">
            <label class="col-lg-3 control-label">Bio:</label>
            <div class="col-lg-8">
              {{ profile_form.bio }}
            </div>
          </div>
     
          
          <div class="form-group">
            <label class="col-md-3 control-label"></label>
            <div class="col-md-8">
              <input type="submit" class="btn btn-primary" value="Save Changes">
              <span></span>
              <input type="reset" class="btn btn-default" value="Cancel">
            </div>
          </div>

        </form>
      </div>

  </div>
</div>
<hr>
    </form >
    <br>
</div>

{% else %}

<p>Please login to see this page.</p>

{% endif %}

{% endblock %}